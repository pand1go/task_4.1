<style>
    table {
        border-collapse: collapse;
        border: 2px solid grey;
        }
    th, td {
        text-align: justify;
        padding: 3px;
        border: 1px solid grey;
        }
    body {
        background: rgb(0,33,55);
        color: white;
    }
    h1 {
        color: rgb(201,192,187);  
    }
    h2 {
        color: rgb(201,192,187);
    }
    h4 {
        color: white
    }
</style>

### [*>>> к содержанию*](./readme.md)
### [*> следующая страница*](./git_rm%26git_mv.md)
### [*предыдущая страница <*](./git_status%26git_log.md)

---

## **Добавление коммита. Команда git commit.**

---

#### Когда вы проиндексировали необходимые изменения, требуется их зафиксировать командой `git commit`.
#### Команда `git commit` делает для проекта снимок текущего состояния изменений, добавленных в раздел проиндексированных файлов. Такие подтвержденные снимки состояния можно рассматривать как «безопасные» версии проекта — Git не будет их менять, пока вы явным образом не попросите об этом.
#### Всё, что не было проиндексировано — любые файлы, созданные или изменённые вами, и для которых вы не выполнили git add после редактирования — **не войдут в этот коммит**. Они останутся изменёнными файлами на вашем диске. Проверить состаяние файлов перед коммитом можно командой `git status`. Простейший способ зафиксировать изменения — это набрать git commit:
<pre>
$ git commit
</pre>
#### Эта команда откроет выбранный вами текстовый редактор. В редакторе будет отображён следующий текст (это пример окна Vim):
<pre>
# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch master
# Your branch is up-to-date with 'origin/master'.
#
# Changes to be committed:
#	new file:   README
#	modified:   CONTRIBUTING.md
#
~
~
~
".git/COMMIT_EDITMSG" 9L, 283C
</pre>
#### Вы можете видеть, что комментарий по умолчанию для коммита содержит закомментированный результат работы команды `git status` и ещё одну пустую строку сверху. Вы можете удалить эти комментарии и набрать своё сообщение или же оставить их для напоминания о том, что вы фиксируете.

<table>
    <tr>
        <td> <h4> <strong> Примечание </strong> </h4> </td>
        <td> <h4> Для ещё более подробного напоминания, что же именно вы поменяли, можете передать аргумент <code>-v</code> в команду <code>git commit</code>. Это приведёт к тому, что в комментарий будет также помещена дельта/diff изменений, таким образом вы сможете точно увидеть все изменения которые вы совершили. </h4> </td>
    </tr>
</table>

#### Когда вы выходите из редактора, Git создаёт для вас коммит с этим сообщением, удаляя комментарии и вывод команды `diff`.
#### Есть и другой способ — вы можете набрать свой комментарий к коммиту в командной строке вместе с командой `commit` указав его после параметра `-m`, как в следующем примере:
<pre>
$ git commit -m "Story 182: fix benchmarks for speed"
[master 463dc4f] Story 182: fix benchmarks for speed
 2 files changed, 2 insertions(+)
 create mode 100644 README
</pre>
#### Вы можете видеть, что коммит вывел вам немного информации о себе: на какую ветку вы выполнили коммит (`master`), какая контрольная сумма SHA-1 у этого коммита (`463dc4f`), сколько файлов было изменено, а также статистику по добавленным/удалённым строкам в этом коммите.
#### Запомните, что коммит сохраняет снимок состояния вашего индекса. Всё, что вы не проиндексировали, так и висит в рабочем каталоге как изменённое; вы можете сделать ещё один коммит, чтобы добавить эти изменения в репозиторий. Каждый раз, когда вы делаете коммит, вы сохраняете снимок состояния вашего проекта, который позже вы можете восстановить или с которым можно сравнить текущее состояние.

---

## **Игнорирование индексации**

---

#### Несмотря на то, что индекс может быть удивительно полезным для создания коммитов именно такими, как вам и хотелось, он временами несколько сложнее, чем вам нужно в процессе работы. Если у вас есть желание пропустить этап индексирования, Git предоставляет простой способ. Добавление параметра `-a` в команду `git commit` заставляет Git автоматически индексировать каждый уже отслеживаемый на момент коммита файл, позволяя вам обойтись без `git add`:
<pre>
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

    modified:   CONTRIBUTING.md

no changes added to commit (use "git add" and/or "git commit -a")
$ git commit -a -m 'Add new benchmarks'
[master 83e38c7] Add new benchmarks
 1 file changed, 5 insertions(+), 0 deletions(-)
</pre>
#### Обратите внимание, что в данном случае перед коммитом вам не нужно выполнять `git add` для файла `CONTRIBUTING.md`, потому что флаг `-a` включает все файлы. Это удобно, но будьте осторожны: флаг `-a` может включить в коммит нежелательные изменения.
#### Команда для опытных пользователей с параметрами `-a` и `-m`:
<pre>
git commit -am "commit message"
</pre>
#### Эта комбинация параметров создает коммит всех проиндексированных изменений и добавляет к коммиту подставленный комментарий.
<pre>
git commit --amend
</pre>
#### Этот параметр добавляет команде commit новый уровень функциональности. При передаче этого параметра будет изменен последний коммит. Вместо создания нового коммита проиндексированные изменения будут добавлены в предыдущий коммит. Кроме того, эта команда откроет настроенный текстовый редактор системы с предложением изменить указанный ранее комментарий к коммиту.

---

### [*>>> к содержанию*](./readme.md)
### [*> следующая страница*](./git_rm%26git_mv.md)
### [*предыдущая страница <*](./git_status%26git_log.md)